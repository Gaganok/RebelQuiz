<div id="view">
    <style scoped>
        .room-container {
            display: flex;
            flex-direction: column;
            padding: 20px 50px;
            gap: 30px;
        }

        .questioner {
            display: flex;
            justify-content: center;
            flex-direction: column;
            flex-grow: 70;
            text-align: center;
            border: 1px solid #e0e0e0;
            min-height: 400px;
        }

        .participant-container__wrapper {
            display: flex;
            gap: inherit;
        }

        .participant-container {
            max-width: 200px;
            min-width: 200px;
        }

        .host .collection-item {
            color: #424242 !important;
        }

        .collection {
            margin: 0px !important;
        }

        .host {
            margin-bottom: 10px !important;
        }

        .host .collection-item:hover {
            background-color: inherit !important;
            cursor: default !important;
        }

        .participant-wrapper .collection-item {
            color: #0d47a1 !important;
        }
        
        .participant-wrapper .collection-item:hover{
            background-color: #bbdefb !important;
        }

        .btn-large {
            background-color: #0d47a1 !important;
            color: #ffffff !important;
            border: none;
        }

        .btn-large__error {
            background-color: #e57373 !important;
            color: #ffffff !important;
            border: none;
        }

    </style>
            <!-- ws-connect="'/ws/room/my-room' + ${room.name}" -->
            <!-- th:attr="ws-connect='/ws/room/' + ${room.name}" -->
    <h4 style="margin-left: 25px; color: #9e9e9e">Quiz</Room></h4>
    <div th:with="room=${data.room}" 
        class="room-container">

        <div th:with="wsUrl='/ws/room/' + ${room.name}" class="participant-container__wrapper"
            hx-ext="ws"
            th:attr="ws-connect='/ws/room/' + ${room.name}"
        >
            <div class="participant-container">
                <div class="collection host">
                    <a href="#!" class="collection-item" th:text="'Host: ' + ${room.host}"></a>
                </div>
                <div th:insert="fragments/participants :: participants"></div>
            </div>

            <div class="questioner">
                <span>Waiting Participants</span> 
            </div>
        </div>
        
        <div class="control-container">
            <a th:class="'waves-effect waves-light btn-large ' + (${data.isHost} ? '' : 'disabled')">Start</a>
            <a class="waves-effect waves-light btn-large btn-large__error">Leave</a>
        </div>
    </div>

    <script>
        document.addEventListener('htmx:ws:open', function(event) {
            console.log('WebSocket connection opened');
        });

        document.addEventListener('htmx:ws:message', function(event) {
            var message = event.detail.data;
            console.log('Received message:', message);
            // Process or display the received message
        });

        document.addEventListener('htmx:ws:error', function(event) {
            console.error('WebSocket error:', event.detail);
        });

        document.addEventListener('htmx:ws:close', function(event) {
            console.log('WebSocket connection closed');
        });
    </script>



</div>